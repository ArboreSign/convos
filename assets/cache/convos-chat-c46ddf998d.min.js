(function(){Vue.component("convos-chat",{props:["user"],data:function(){return{dialog:null,error:{}};},watch:{"settings.main":function(v,o){this.calculateMainArea();}},methods:{calculateMainArea:function(){var main=Convos.settings.main;var i;this.dialog=null;if(main.length&&main.indexOf("#chat")!=0)return;for(i=0;i<this.user.dialogs.length;i++){var d=this.user.dialogs[i];if(d.href()!=main)continue
this.dialog=d.emit("active");break;}
if(!this.dialog){this.error={message:"Could not find dialog "+main+"."};}}},ready:function(){this.calculateMainArea();},template:"<div class=\"convos-chat\">\n    <convos-main-menu :user=\"user\"></convos-main-menu>\n    <convos-dialog-container :dialog=\"dialog\" :user=\"user\" class=\"active\" keep-alive v-if=\"dialog\"></convos-dialog-container>\n    <convos-settings :error=\"error\" :user=\"user\" v-if=\"!dialog\"></convos-settings>\n    <component :is=\"&#39;convos-&#39; + settings.sidebar\" :user=\"user\" v-if=\"settings.sidebar\"></component>\n  </div>\n"})})();