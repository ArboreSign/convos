(function(){Vue.component("convos-dialog-info",{props:["dialog","user"],data:function(){return{mOpts:{escape:true,links:true},modes:{'@':'+o','+':'+v'}};},computed:{participants:function(){return Object.keys(this.dialog.participants)
.sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase());})
.map(function(k){return this.dialog.participants[k]||{name:k};}.bind(this));}},methods:{shareUrl:function(){return['','api','connection',this.dialog.connection_id,'dialog',this.dialog.dialog_id,'share']
.map(function(p){return encodeURIComponent(p)})
.join('/');}},template:"<div class=\"content\">\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <h5>About {{dialog.name}}</h5>\n        <p v-if=\"!dialog.is_private\">{{{dialog ? dialog.topic || &#39;No topic is set.&#39; : &#39;No active dialog.&#39; | markdown mOpts}}}</p>\n        <p v-if=\"dialog.is_private\">You&#39;re in a private conversation.</p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col s12 li-link\">\n        <a @click.prevent=\"send(&#39;/close&#39;)\" href=\"#close\">\n          <i class=\"material-icons\">close</i>\n          {{dialog.is_private ? &#39;Close conversation&#39; : &#39;Part channel&#39;}}\n        </a>\n      </div>\n    </div>\n    <div class=\"row\" v-if=\"settings.share_dialog\">\n      <div class=\"col s12 li-link\">\n        <a :href=\"shareUrl()\" target=\"_blank\">\n          <i class=\"material-icons\">share</i>\n          Share conversation\n        </a>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <h5>Participants ({{participants.length}})</h5>\n      </div>\n    </div>\n    <div class=\"row participant\" v-for=\"p in participants\">\n      <div class=\"col s12\">\n        <span class=\"secondary-content ts\">\n          {{modes[p.mode] || p.mode}}\n          <a @click.prevent=\"send(&#39;/whois &#39; + p.name)\" class=\"waves-effect waves-light\" href=\"#info\"><i class=\"material-icons\">info</i></a>\n        </span>\n        <a @click.prevent=\"send(&#39;/query &#39; + p.name)\" href=\"#chat:{{p.name}}\">{{p.name}}</a>\n      </div>\n    </div>\n  </div>\n"})})();