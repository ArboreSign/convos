(function(){Vue.component("convos-connection-settings",{props:["connection","user"],mixins:[Convos.mixin.connectionEditor],data:function(){var url=this.connection.url.parseUrl();return{advancedSettings:false,errors:[],url:url,nick:url.query.nick||this.user.email.split("@")[0],onConnectCommands:this.connection.on_connect_commands.join("\n"),server:url.hostPort,tls:url.query.tls?true:false,password:url.query.password,username:url.query.username};},methods:{removeConnection:function(){var self=this;this.connection.remove(function(err){if(err)return self.errors=err;self.settings.main="#connection";});}},template:"<form @submit.prevent autocomplete=\"off\" class=\"content\">\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <h5>Edit {{connection.name}}</h5>\n      </div>\n    </div>\n    <div class=\"row\">\n      <md-input :readonly=\"settings.forced_irc_server\" :value.sync=\"server\" cols=\"s12\" focus=\"\">Server</md-input>\n    </div>\n    <div class=\"row\">\n      <md-input :value.sync=\"nick\" placeholder=\"A nick can be generated for you\">Nick</md-input>\n    </div>\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <input class=\"filled-in\" id=\"form_tls\" type=\"checkbox\" v-model=\"tls\">\n        <label for=\"form_tls\">Secure connection (TLS)</label>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <input class=\"filled-in\" id=\"form_advanced_settings\" type=\"checkbox\" v-model=\"advancedSettings\">\n        <label for=\"form_advanced_settings\">Advanced settings...</label>\n      </div>\n    </div>\n    <template v-if=\"advancedSettings\">\n      <div class=\"row\">\n        <md-input :value.sync=\"username\" cols=\"s6\">Username</md-input>\n        <md-input :value.sync=\"password\" cols=\"s6\" type=\"password\">Password</md-input>\n      </div>\n      <div class=\"row\">\n        <md-textarea :value.sync=\"onConnectCommands\">On Connect Commands (one per line)</md-textarea>\n      </div>\n    </template>\n    <div class=\"row\" v-if=\"errors.length\">\n      <div class=\"col s12\"><div class=\"alert\">{{errors[0].message}}</div></div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <button @click=\"saveConnection\" class=\"btn waves-effect waves-light\">Save</button>\n        <a @click.prevent=\"removeConnection\" class=\"btn-delete\" href=\"#delete\" v-if=\"connection\">Delete</a>\n        <p>{{connection.state == &#39;connected&#39; ? &#39;Status: Connected.&#39; : connection.message || &#39;Click &quot;update&quot; to connect.&#39;}}</p>\n      </div>\n    </div>\n  </form>\n"})})();