window.sortedSet=function(){this.set={length:0};return this};window.sortedSet.prototype.add=function(a,b){this.set[b]=a;this.length++;return this};window.sortedSet.prototype.clear=function(){this.set={};this.length=0;return this};window.sortedSet.prototype.rem=function(a){delete this.set[a];this.length--;return this};window.sortedSet.prototype.score=function(a){return this.set[a]||0};window.sortedSet.prototype.revrange=function(e,d){var b,c=[],a=this;for(b in a.set){c.push(b)}if(e<0){e=c.length+e}if(d<0){d=c.length+d+1}return c.sort(function(g,f){return a.set[f]-a.set[g]}).splice(e,d)};window.console=window.console||{log:function(){window.console.messages.push(arguments)},messages:[]};RegExp.escape=RegExp.escape||function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};Array.prototype.unique=function(){var a=[];for(i=0;i<this.length;i++){if(a.indexOf(this[i])===-1){a.push(this[i])}}return a};Array.prototype.sortCaseInsensitive=function(){return this.sort(function(d,c){d=d.toLowerCase();c=c.toLowerCase();return d==c?0:d>c?1:-1})};Object.equals=function(d,c){for(p in d){switch(typeof(d[p])){case"object":if(!d[p].equals(c[p])){return false}break;case"function":if(typeof(c[p])=="undefined"||(p!="equals"&&d[p].toString()!=c[p].toString())){return false}break;default:if(d[p]!=c[p]){return false}}}for(p in c){if(typeof(d[p])=="undefined"){return false}}return true};if(window.webkitNotifications){window.Notification=function(c,a){var d=window.webkitNotifications.createNotification(a.iconUrl||"",c,a.body||"");try{if(a.onclose){d.onclose=a.onclose}if(a.onshow){d.ondisplay=a.onshow}}catch(b){if(window.console){console.log("[Notification] "+b)}}d.show();return d};window.Notification.permission=window.webkitNotifications.checkPermission()?"default":"granted";window.Notification.requestPermission=function(a){a=a||function(){};window.webkitNotifications.requestPermission(function(){window.Notification.permission=window.webkitNotifications.checkPermission()?"denied":"granted";a(window.Notification.permission)})};window.Notification.prototype.close=function(){if(this.onclose){this.onclose()}}}else{if(!window.Notification){window.Notification=function(b,a){return this};window.Notification.permission="unsupported";window.Notification.requestPermission=function(a){a("unsupported")};window.Notification.prototype.close=function(){if(this.onclose){this.onclose()}}}};